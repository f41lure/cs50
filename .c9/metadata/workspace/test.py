{"filter":false,"title":"test.py","tooltip":"/test.py","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":308,"column":29},"end":{"row":308,"column":30},"action":"remove","lines":["a"],"id":916}],[{"start":{"row":308,"column":28},"end":{"row":308,"column":29},"action":"remove","lines":["C"],"id":917}],[{"start":{"row":308,"column":27},"end":{"row":308,"column":28},"action":"remove","lines":["'"],"id":918}],[{"start":{"row":308,"column":27},"end":{"row":308,"column":29},"action":"insert","lines":["\"\""],"id":919}],[{"start":{"row":308,"column":28},"end":{"row":308,"column":29},"action":"insert","lines":["C"],"id":920}],[{"start":{"row":308,"column":29},"end":{"row":308,"column":30},"action":"insert","lines":["a"],"id":921}],[{"start":{"row":308,"column":30},"end":{"row":308,"column":31},"action":"insert","lines":["n"],"id":922}],[{"start":{"row":308,"column":31},"end":{"row":308,"column":32},"action":"insert","lines":["'"],"id":923}],[{"start":{"row":308,"column":32},"end":{"row":308,"column":33},"action":"insert","lines":["t"],"id":924}],[{"start":{"row":308,"column":33},"end":{"row":308,"column":34},"action":"insert","lines":[" "],"id":925}],[{"start":{"row":308,"column":34},"end":{"row":308,"column":35},"action":"insert","lines":["s"],"id":926}],[{"start":{"row":308,"column":35},"end":{"row":308,"column":36},"action":"insert","lines":["e"],"id":927}],[{"start":{"row":308,"column":36},"end":{"row":308,"column":37},"action":"insert","lines":["l"],"id":928}],[{"start":{"row":308,"column":37},"end":{"row":308,"column":38},"action":"insert","lines":["l"],"id":929}],[{"start":{"row":308,"column":38},"end":{"row":308,"column":39},"action":"insert","lines":[" "],"id":930}],[{"start":{"row":308,"column":39},"end":{"row":308,"column":40},"action":"insert","lines":["o"],"id":931}],[{"start":{"row":308,"column":39},"end":{"row":308,"column":40},"action":"remove","lines":["o"],"id":932}],[{"start":{"row":308,"column":39},"end":{"row":308,"column":40},"action":"insert","lines":["s"],"id":933}],[{"start":{"row":308,"column":40},"end":{"row":308,"column":41},"action":"insert","lines":["o"],"id":934}],[{"start":{"row":308,"column":41},"end":{"row":308,"column":42},"action":"insert","lines":["m"],"id":935}],[{"start":{"row":308,"column":42},"end":{"row":308,"column":43},"action":"insert","lines":["e"],"id":936}],[{"start":{"row":308,"column":43},"end":{"row":308,"column":44},"action":"insert","lines":["t"],"id":937}],[{"start":{"row":308,"column":44},"end":{"row":308,"column":45},"action":"insert","lines":["h"],"id":938}],[{"start":{"row":308,"column":45},"end":{"row":308,"column":46},"action":"insert","lines":["i"],"id":939}],[{"start":{"row":308,"column":46},"end":{"row":308,"column":47},"action":"insert","lines":["n"],"id":940}],[{"start":{"row":308,"column":47},"end":{"row":308,"column":48},"action":"insert","lines":["g"],"id":941}],[{"start":{"row":308,"column":48},"end":{"row":308,"column":49},"action":"insert","lines":[" "],"id":942}],[{"start":{"row":308,"column":49},"end":{"row":308,"column":50},"action":"insert","lines":["y"],"id":943}],[{"start":{"row":308,"column":50},"end":{"row":308,"column":51},"action":"insert","lines":["o"],"id":944}],[{"start":{"row":308,"column":51},"end":{"row":308,"column":52},"action":"insert","lines":["u"],"id":945}],[{"start":{"row":308,"column":52},"end":{"row":308,"column":53},"action":"insert","lines":[" "],"id":946}],[{"start":{"row":308,"column":53},"end":{"row":308,"column":54},"action":"insert","lines":["d"],"id":947}],[{"start":{"row":308,"column":54},"end":{"row":308,"column":55},"action":"insert","lines":["o"],"id":948}],[{"start":{"row":308,"column":55},"end":{"row":308,"column":56},"action":"insert","lines":["n"],"id":949}],[{"start":{"row":308,"column":56},"end":{"row":308,"column":57},"action":"insert","lines":["'"],"id":950}],[{"start":{"row":308,"column":57},"end":{"row":308,"column":58},"action":"insert","lines":["t"],"id":951}],[{"start":{"row":308,"column":58},"end":{"row":308,"column":59},"action":"insert","lines":[" "],"id":952}],[{"start":{"row":308,"column":59},"end":{"row":308,"column":60},"action":"insert","lines":["h"],"id":953}],[{"start":{"row":308,"column":60},"end":{"row":308,"column":61},"action":"insert","lines":["a"],"id":954}],[{"start":{"row":308,"column":61},"end":{"row":308,"column":62},"action":"insert","lines":["v"],"id":955}],[{"start":{"row":308,"column":62},"end":{"row":308,"column":63},"action":"insert","lines":["e"],"id":956}],[{"start":{"row":308,"column":64},"end":{"row":308,"column":65},"action":"insert","lines":[","],"id":957}],[{"start":{"row":308,"column":65},"end":{"row":308,"column":66},"action":"insert","lines":[" "],"id":958}],[{"start":{"row":308,"column":66},"end":{"row":308,"column":67},"action":"insert","lines":["4"],"id":959}],[{"start":{"row":308,"column":67},"end":{"row":308,"column":68},"action":"insert","lines":["0"],"id":960}],[{"start":{"row":308,"column":68},"end":{"row":308,"column":69},"action":"insert","lines":["0"],"id":961}],[{"start":{"row":308,"column":68},"end":{"row":308,"column":69},"action":"remove","lines":["0"],"id":962}],[{"start":{"row":308,"column":67},"end":{"row":308,"column":68},"action":"remove","lines":["0"],"id":963}],[{"start":{"row":308,"column":66},"end":{"row":308,"column":67},"action":"remove","lines":["4"],"id":964}],[{"start":{"row":308,"column":65},"end":{"row":308,"column":66},"action":"remove","lines":[" "],"id":965}],[{"start":{"row":308,"column":64},"end":{"row":308,"column":65},"action":"remove","lines":[","],"id":966}],[{"start":{"row":310,"column":55},"end":{"row":310,"column":56},"action":"remove","lines":["+"],"id":967}],[{"start":{"row":310,"column":55},"end":{"row":310,"column":56},"action":"insert","lines":["-"],"id":968}],[{"start":{"row":311,"column":51},"end":{"row":311,"column":52},"action":"remove","lines":["+"],"id":969}],[{"start":{"row":311,"column":51},"end":{"row":311,"column":52},"action":"insert","lines":["-"],"id":970}],[{"start":{"row":319,"column":34},"end":{"row":319,"column":35},"action":"remove","lines":["y"],"id":971}],[{"start":{"row":319,"column":33},"end":{"row":319,"column":34},"action":"remove","lines":["u"],"id":972}],[{"start":{"row":319,"column":32},"end":{"row":319,"column":33},"action":"remove","lines":["b"],"id":973}],[{"start":{"row":319,"column":32},"end":{"row":319,"column":33},"action":"insert","lines":["s"],"id":974}],[{"start":{"row":319,"column":33},"end":{"row":319,"column":34},"action":"insert","lines":["e"],"id":975}],[{"start":{"row":319,"column":34},"end":{"row":319,"column":35},"action":"insert","lines":["l"],"id":976}],[{"start":{"row":319,"column":35},"end":{"row":319,"column":36},"action":"insert","lines":["l"],"id":977}],[{"start":{"row":255,"column":9},"end":{"row":255,"column":10},"action":"remove","lines":["y"],"id":978}],[{"start":{"row":255,"column":8},"end":{"row":255,"column":9},"action":"remove","lines":["u"],"id":979}],[{"start":{"row":255,"column":7},"end":{"row":255,"column":8},"action":"remove","lines":["B"],"id":980}],[{"start":{"row":255,"column":7},"end":{"row":255,"column":8},"action":"insert","lines":["S"],"id":981}],[{"start":{"row":255,"column":8},"end":{"row":255,"column":9},"action":"insert","lines":["e"],"id":982}],[{"start":{"row":255,"column":9},"end":{"row":255,"column":10},"action":"insert","lines":["l"],"id":983}],[{"start":{"row":255,"column":10},"end":{"row":255,"column":11},"action":"insert","lines":["l"],"id":984}],[{"start":{"row":99,"column":163},"end":{"row":99,"column":171},"action":"remove","lines":["        "],"id":985},{"start":{"row":314,"column":163},"end":{"row":314,"column":171},"action":"remove","lines":["        "]}],[{"start":{"row":173,"column":0},"end":{"row":250,"column":41},"action":"remove","lines":["","    # if request.method == \"POST\":","","    #     # ensure username was submitted","    #     if not request.form.get(\"username\"):","    #         return apology(\"Must provide username\")","","    #     # ensure password was submitted","    #     elif not request.form.get(\"password\"):","    #         return apology(\"Must provide password\")","","    #     # # ensure password and verified password is the same","    #     # elif request.form.get(\"password\") != request.form.get(\"passwordagain\"):","    #     #     return apology(\"password doesn't match\")","","    #     # insert the new user into users, storing the hash of the user's password","    #     result = db.execute(\"INSERT INTO users (username, hash) \\","    #                          VALUES(:username, :hash)\", \\","    #                          username=request.form.get(\"username\"), \\","    #                          hash=pwd_context.hash(request.form.get(\"password\")))","    #     user_table = db.execute(\"CREATE TABLE {} ('stock' TEXT, 'amount' INTEGER, 'price' INTEGER, 'tot_value' INTEGER, 'type' TEXT, 'cash' INTEGER)\".format(request.form.get(\"username\")))","","","    #     # Table # 2 for index()","    #     user_table_index = db.execute(\"CREATE TABLE {}_index ('stock' TEXT, 'amount' INTEGER, 'price' INTEGER, 'tot_value' INTEGER, 'cash' INTEGER)\".format(request.form.get(\"username\")))","","    #     if not result:","    #         return apology(\"Username already exists\")","","    #     # remember which user has logged in","    #     session[\"user_id\"] = result","","    #     return redirect(url_for(\"index\"))","","    # else:","    #     return render_template(\"register.html\")","    \"\"\"Register user.\"\"\"","","    # if user reached route via GET, return register page","    if request.method == \"GET\":","        return render_template(\"register.html\")","","    # otherwise, if reached via POST i.e. submitting a form...","    elif request.method == \"POST\":","        # ensure username was submitted","        if not request.form.get(\"username\"):","            return apology(\"must provide username\")","","        # ensure password was submitted","        elif not request.form.get(\"password\"):","            return apology(\"must provide password\")","","        # ensure password and confirmation are equal","        elif request.form.get(\"password\") != request.form.get(\"confirmation\"):","            return apology(\"password fields do not match\")","","        # encrypt password","        hash = pwd_context.encrypt(request.form.get(\"password\"))","","        # comment","        result = db.execute(\"INSERT INTO users (username, hash) VALUES(:username, :hash)\", username=request.form.get(\"username\"),hash=hash)","        if not result:","            return apology(\"username already in use\")","","        user_table = db.execute(\"CREATE TABLE {} ('stock' TEXT, 'amount' INTEGER, 'price' INTEGER, 'tot_value' INTEGER, 'type' TEXT, 'cash' INTEGER)\".format(request.form.get(\"username\")))","","","","        # Table # 2 for index()","         user_table_index = db.execute(\"CREATE TABLE {}_index ('stock' TEXT, 'amount' INTEGER, 'price' INTEGER, 'tot_value' INTEGER, 'cash' INTEGER)\".format(request.form.get(\"username\")))","","        # log user in","        rows = db.execute(\"SELECT * FROM users WHERE username = :username\", username=request.form.get(\"username\"))","        session[\"user_id\"] = rows[0][\"id\"]","","        # redirect user to home page","        flash('Successfully registered!')","        return redirect(url_for(\"index\"))"],"id":986},{"start":{"row":173,"column":0},"end":{"row":193,"column":47},"action":"insert","lines":["        if not request.form.get(\"username\") or not request.form.get(\"password\") or request.form.get(\"password\") != request.form.get(\"confirmation\"):","            return apology(\"retry\", 400)","","        # insert the new user into users, storing the hash of the user's password","        result = db.execute(\"INSERT INTO users (username, hash, cash) \\","                             VALUES(:username, :hash, :cash)\", \\","                             username=request.form.get(\"username\"), \\","                             hash=pwd_context.hash(request.form.get(\"password\")), \\","                             cash=10000)","","        if not result:","            return apology(\"Username already exist\")","","        # remember which user has logged in","        session[\"user_id\"] = result","","        # redirect user to home page","        return redirect(url_for(\"index\"), 200)","","    else:","        return render_template(\"register.html\")"]}],[{"start":{"row":172,"column":15},"end":{"row":173,"column":0},"action":"insert","lines":["",""],"id":987},{"start":{"row":173,"column":0},"end":{"row":173,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":173,"column":4},"end":{"row":174,"column":0},"action":"insert","lines":["",""],"id":988},{"start":{"row":174,"column":0},"end":{"row":174,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":174,"column":4},"end":{"row":174,"column":5},"action":"insert","lines":["i"],"id":989}],[{"start":{"row":174,"column":5},"end":{"row":174,"column":6},"action":"insert","lines":["f"],"id":990}],[{"start":{"row":174,"column":6},"end":{"row":174,"column":7},"action":"insert","lines":[" "],"id":991}],[{"start":{"row":174,"column":7},"end":{"row":174,"column":8},"action":"insert","lines":["r"],"id":992}],[{"start":{"row":174,"column":8},"end":{"row":174,"column":9},"action":"insert","lines":["e"],"id":993}],[{"start":{"row":174,"column":9},"end":{"row":174,"column":10},"action":"insert","lines":["q"],"id":994}],[{"start":{"row":174,"column":10},"end":{"row":174,"column":11},"action":"insert","lines":["u"],"id":995}],[{"start":{"row":174,"column":11},"end":{"row":174,"column":12},"action":"insert","lines":["e"],"id":996}],[{"start":{"row":174,"column":12},"end":{"row":174,"column":13},"action":"insert","lines":["s"],"id":997}],[{"start":{"row":174,"column":13},"end":{"row":174,"column":14},"action":"insert","lines":["t"],"id":998}],[{"start":{"row":174,"column":14},"end":{"row":174,"column":15},"action":"insert","lines":["."],"id":999}],[{"start":{"row":174,"column":15},"end":{"row":174,"column":16},"action":"insert","lines":["m"],"id":1000}],[{"start":{"row":174,"column":16},"end":{"row":174,"column":17},"action":"insert","lines":["e"],"id":1001}],[{"start":{"row":174,"column":17},"end":{"row":174,"column":18},"action":"insert","lines":["t"],"id":1002}],[{"start":{"row":174,"column":18},"end":{"row":174,"column":19},"action":"insert","lines":["h"],"id":1003}],[{"start":{"row":174,"column":19},"end":{"row":174,"column":20},"action":"insert","lines":["o"],"id":1004}],[{"start":{"row":174,"column":20},"end":{"row":174,"column":21},"action":"insert","lines":["d"],"id":1005}],[{"start":{"row":174,"column":21},"end":{"row":174,"column":22},"action":"insert","lines":[" "],"id":1006}],[{"start":{"row":174,"column":22},"end":{"row":174,"column":23},"action":"insert","lines":["="],"id":1007}],[{"start":{"row":174,"column":23},"end":{"row":174,"column":24},"action":"insert","lines":[" "],"id":1008}],[{"start":{"row":174,"column":24},"end":{"row":174,"column":26},"action":"insert","lines":["\"\""],"id":1009}],[{"start":{"row":174,"column":25},"end":{"row":174,"column":26},"action":"insert","lines":["P"],"id":1010}],[{"start":{"row":174,"column":26},"end":{"row":174,"column":27},"action":"insert","lines":["O"],"id":1011}],[{"start":{"row":174,"column":27},"end":{"row":174,"column":28},"action":"insert","lines":["S"],"id":1012}],[{"start":{"row":174,"column":28},"end":{"row":174,"column":29},"action":"insert","lines":["T"],"id":1013}],[{"start":{"row":174,"column":30},"end":{"row":174,"column":31},"action":"insert","lines":[":"],"id":1014}],[{"start":{"row":174,"column":23},"end":{"row":174,"column":24},"action":"insert","lines":["="],"id":1015}],[{"start":{"row":173,"column":0},"end":{"row":173,"column":4},"action":"remove","lines":["    "],"id":1016}]]},"ace":{"folds":[],"scrolltop":3477,"scrollleft":0,"selection":{"start":{"row":188,"column":41},"end":{"row":188,"column":43},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":164,"state":"start","mode":"ace/mode/python"}},"timestamp":1528964994973,"hash":"8c5aa543ad26880022927be82ca292638aa37428"}