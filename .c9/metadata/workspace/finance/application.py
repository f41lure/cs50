{"filter":false,"title":"application.py","tooltip":"/finance/application.py","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":297,"column":32},"end":{"row":298,"column":0},"action":"remove","lines":["",""],"id":5560}],[{"start":{"row":297,"column":32},"end":{"row":298,"column":0},"action":"insert","lines":["",""],"id":5561},{"start":{"row":298,"column":0},"end":{"row":298,"column":20},"action":"insert","lines":["                    "]}],[{"start":{"row":305,"column":125},"end":{"row":305,"column":126},"action":"remove","lines":["k"],"id":5562}],[{"start":{"row":305,"column":124},"end":{"row":305,"column":125},"action":"remove","lines":["c"],"id":5563}],[{"start":{"row":305,"column":123},"end":{"row":305,"column":124},"action":"remove","lines":["o"],"id":5564}],[{"start":{"row":305,"column":122},"end":{"row":305,"column":123},"action":"remove","lines":["t"],"id":5565}],[{"start":{"row":305,"column":122},"end":{"row":305,"column":123},"action":"insert","lines":["t"],"id":5566}],[{"start":{"row":305,"column":123},"end":{"row":305,"column":124},"action":"insert","lines":["o"],"id":5567}],[{"start":{"row":305,"column":124},"end":{"row":305,"column":125},"action":"insert","lines":["c"],"id":5568}],[{"start":{"row":305,"column":125},"end":{"row":305,"column":126},"action":"insert","lines":["l"],"id":5569}],[{"start":{"row":305,"column":125},"end":{"row":305,"column":126},"action":"remove","lines":["l"],"id":5570}],[{"start":{"row":305,"column":125},"end":{"row":305,"column":126},"action":"insert","lines":["j"],"id":5571}],[{"start":{"row":305,"column":125},"end":{"row":305,"column":126},"action":"remove","lines":["j"],"id":5572}],[{"start":{"row":305,"column":125},"end":{"row":305,"column":126},"action":"insert","lines":["h"],"id":5573}],[{"start":{"row":305,"column":125},"end":{"row":305,"column":126},"action":"remove","lines":["h"],"id":5574}],[{"start":{"row":305,"column":125},"end":{"row":305,"column":126},"action":"insert","lines":["k"],"id":5575}],[{"start":{"row":298,"column":0},"end":{"row":298,"column":20},"action":"remove","lines":["                    "],"id":5576}],[{"start":{"row":305,"column":8},"end":{"row":305,"column":10},"action":"insert","lines":["# "],"id":5577},{"start":{"row":307,"column":8},"end":{"row":307,"column":10},"action":"insert","lines":["# "]},{"start":{"row":309,"column":8},"end":{"row":309,"column":10},"action":"insert","lines":["# "]},{"start":{"row":311,"column":8},"end":{"row":311,"column":10},"action":"insert","lines":["# "]},{"start":{"row":313,"column":8},"end":{"row":313,"column":10},"action":"insert","lines":["# "]},{"start":{"row":315,"column":8},"end":{"row":315,"column":10},"action":"insert","lines":["# "]},{"start":{"row":317,"column":8},"end":{"row":317,"column":10},"action":"insert","lines":["# "]},{"start":{"row":318,"column":8},"end":{"row":318,"column":10},"action":"insert","lines":["# "]},{"start":{"row":319,"column":8},"end":{"row":319,"column":10},"action":"insert","lines":["# "]},{"start":{"row":320,"column":8},"end":{"row":320,"column":10},"action":"insert","lines":["# "]},{"start":{"row":321,"column":8},"end":{"row":321,"column":10},"action":"insert","lines":["# "]},{"start":{"row":322,"column":8},"end":{"row":322,"column":10},"action":"insert","lines":["# "]},{"start":{"row":324,"column":8},"end":{"row":324,"column":10},"action":"insert","lines":["# "]},{"start":{"row":326,"column":8},"end":{"row":326,"column":10},"action":"insert","lines":["# "]},{"start":{"row":327,"column":8},"end":{"row":327,"column":10},"action":"insert","lines":["# "]},{"start":{"row":329,"column":8},"end":{"row":329,"column":10},"action":"insert","lines":["# "]},{"start":{"row":331,"column":8},"end":{"row":331,"column":10},"action":"insert","lines":["# "]},{"start":{"row":332,"column":8},"end":{"row":332,"column":10},"action":"insert","lines":["# "]},{"start":{"row":333,"column":8},"end":{"row":333,"column":10},"action":"insert","lines":["# "]}],[{"start":{"row":222,"column":4},"end":{"row":222,"column":6},"action":"insert","lines":["# "],"id":5578},{"start":{"row":224,"column":4},"end":{"row":224,"column":6},"action":"insert","lines":["# "]},{"start":{"row":225,"column":4},"end":{"row":225,"column":6},"action":"insert","lines":["# "]},{"start":{"row":226,"column":4},"end":{"row":226,"column":6},"action":"insert","lines":["# "]},{"start":{"row":228,"column":4},"end":{"row":228,"column":6},"action":"insert","lines":["# "]},{"start":{"row":229,"column":4},"end":{"row":229,"column":6},"action":"insert","lines":["# "]},{"start":{"row":230,"column":4},"end":{"row":230,"column":6},"action":"insert","lines":["# "]},{"start":{"row":232,"column":4},"end":{"row":232,"column":6},"action":"insert","lines":["# "]},{"start":{"row":233,"column":4},"end":{"row":233,"column":6},"action":"insert","lines":["# "]},{"start":{"row":234,"column":4},"end":{"row":234,"column":6},"action":"insert","lines":["# "]},{"start":{"row":236,"column":4},"end":{"row":236,"column":6},"action":"insert","lines":["# "]},{"start":{"row":237,"column":4},"end":{"row":237,"column":6},"action":"insert","lines":["# "]},{"start":{"row":238,"column":4},"end":{"row":238,"column":6},"action":"insert","lines":["# "]},{"start":{"row":239,"column":4},"end":{"row":239,"column":6},"action":"insert","lines":["# "]},{"start":{"row":240,"column":4},"end":{"row":240,"column":6},"action":"insert","lines":["# "]},{"start":{"row":241,"column":4},"end":{"row":241,"column":6},"action":"insert","lines":["# "]},{"start":{"row":244,"column":4},"end":{"row":244,"column":6},"action":"insert","lines":["# "]},{"start":{"row":245,"column":4},"end":{"row":245,"column":6},"action":"insert","lines":["# "]},{"start":{"row":247,"column":4},"end":{"row":247,"column":6},"action":"insert","lines":["# "]},{"start":{"row":248,"column":4},"end":{"row":248,"column":6},"action":"insert","lines":["# "]},{"start":{"row":250,"column":4},"end":{"row":250,"column":6},"action":"insert","lines":["# "]},{"start":{"row":251,"column":4},"end":{"row":251,"column":6},"action":"insert","lines":["# "]},{"start":{"row":253,"column":4},"end":{"row":253,"column":6},"action":"insert","lines":["# "]},{"start":{"row":255,"column":4},"end":{"row":255,"column":6},"action":"insert","lines":["# "]},{"start":{"row":256,"column":4},"end":{"row":256,"column":6},"action":"insert","lines":["# "]}],[{"start":{"row":256,"column":49},"end":{"row":257,"column":0},"action":"insert","lines":["",""],"id":5579},{"start":{"row":257,"column":0},"end":{"row":257,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":257,"column":4},"end":{"row":258,"column":0},"action":"insert","lines":["",""],"id":5580},{"start":{"row":258,"column":0},"end":{"row":258,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":258,"column":0},"end":{"row":258,"column":4},"action":"remove","lines":["    "],"id":5581}],[{"start":{"row":258,"column":0},"end":{"row":289,"column":40},"action":"insert","lines":["    ","    if request.method == \"POST\":","        ","        # ensure username was submitted","        if not request.form.get(\"username\"):","            return apology(\"Must provide username\")","            ","        # ensure password was submitted    ","        elif not request.form.get(\"password\"):","            return apology(\"Must provide password\")","        ","        # ensure password and verified password is the same","        elif request.form.get(\"password\") != request.form.get(\"passwordagain\"):","            return apology(\"password doesn't match\")","        ","        # insert the new user into users, storing the hash of the user's password","        result = db.execute(\"INSERT INTO users (username, hash) \\","                             VALUES(:username, :hash)\", \\","                             username=request.form.get(\"username\"), \\","                             hash=pwd_context.encrypt(request.form.get(\"password\")))","                 ","        if not result:","            return apology(\"Username already exist\")","        ","        # remember which user has logged in","        session[\"user_id\"] = result","","        # redirect user to home page","        return redirect(url_for(\"index\"))","    ","    else:","return render_template(\"register.html\") "],"id":5582}],[{"start":{"row":289,"column":0},"end":{"row":289,"column":4},"action":"insert","lines":["    "],"id":5583}],[{"start":{"row":289,"column":4},"end":{"row":289,"column":8},"action":"insert","lines":["    "],"id":5584}],[{"start":{"row":257,"column":0},"end":{"row":257,"column":4},"action":"remove","lines":["    "],"id":5585},{"start":{"row":258,"column":0},"end":{"row":258,"column":4},"action":"remove","lines":["    "]},{"start":{"row":260,"column":0},"end":{"row":260,"column":8},"action":"remove","lines":["        "]},{"start":{"row":264,"column":0},"end":{"row":264,"column":12},"action":"remove","lines":["            "]},{"start":{"row":265,"column":39},"end":{"row":265,"column":43},"action":"remove","lines":["    "]},{"start":{"row":268,"column":0},"end":{"row":268,"column":8},"action":"remove","lines":["        "]},{"start":{"row":272,"column":0},"end":{"row":272,"column":8},"action":"remove","lines":["        "]},{"start":{"row":278,"column":0},"end":{"row":278,"column":17},"action":"remove","lines":["                 "]},{"start":{"row":281,"column":0},"end":{"row":281,"column":8},"action":"remove","lines":["        "]},{"start":{"row":287,"column":0},"end":{"row":287,"column":4},"action":"remove","lines":["    "]},{"start":{"row":289,"column":47},"end":{"row":289,"column":48},"action":"remove","lines":[" "]}],[{"start":{"row":270,"column":75},"end":{"row":270,"column":76},"action":"remove","lines":["n"],"id":5586}],[{"start":{"row":270,"column":74},"end":{"row":270,"column":75},"action":"remove","lines":["i"],"id":5587}],[{"start":{"row":270,"column":73},"end":{"row":270,"column":74},"action":"remove","lines":["a"],"id":5588}],[{"start":{"row":270,"column":72},"end":{"row":270,"column":73},"action":"remove","lines":["g"],"id":5589}],[{"start":{"row":270,"column":71},"end":{"row":270,"column":72},"action":"remove","lines":["a"],"id":5590}],[{"start":{"row":270,"column":70},"end":{"row":270,"column":71},"action":"remove","lines":["d"],"id":5591}],[{"start":{"row":270,"column":69},"end":{"row":270,"column":70},"action":"remove","lines":["r"],"id":5592}],[{"start":{"row":270,"column":68},"end":{"row":270,"column":69},"action":"remove","lines":["o"],"id":5593}],[{"start":{"row":270,"column":67},"end":{"row":270,"column":68},"action":"remove","lines":["w"],"id":5594}],[{"start":{"row":270,"column":66},"end":{"row":270,"column":67},"action":"remove","lines":["s"],"id":5595}],[{"start":{"row":270,"column":65},"end":{"row":270,"column":66},"action":"remove","lines":["s"],"id":5596}],[{"start":{"row":270,"column":64},"end":{"row":270,"column":65},"action":"remove","lines":["a"],"id":5597}],[{"start":{"row":270,"column":63},"end":{"row":270,"column":64},"action":"remove","lines":["p"],"id":5598}],[{"start":{"row":270,"column":63},"end":{"row":270,"column":64},"action":"insert","lines":["c"],"id":5599}],[{"start":{"row":270,"column":64},"end":{"row":270,"column":65},"action":"insert","lines":["o"],"id":5600}],[{"start":{"row":270,"column":65},"end":{"row":270,"column":66},"action":"insert","lines":["n"],"id":5601}],[{"start":{"row":270,"column":66},"end":{"row":270,"column":67},"action":"insert","lines":["f"],"id":5602}],[{"start":{"row":270,"column":67},"end":{"row":270,"column":68},"action":"insert","lines":["i"],"id":5603}],[{"start":{"row":270,"column":68},"end":{"row":270,"column":69},"action":"insert","lines":["r"],"id":5604}],[{"start":{"row":270,"column":69},"end":{"row":270,"column":70},"action":"insert","lines":["m"],"id":5605}],[{"start":{"row":270,"column":70},"end":{"row":270,"column":71},"action":"insert","lines":["a"],"id":5606}],[{"start":{"row":270,"column":71},"end":{"row":270,"column":72},"action":"insert","lines":["y"],"id":5607}],[{"start":{"row":270,"column":71},"end":{"row":270,"column":72},"action":"remove","lines":["y"],"id":5608}],[{"start":{"row":270,"column":71},"end":{"row":270,"column":72},"action":"insert","lines":["t"],"id":5609}],[{"start":{"row":270,"column":72},"end":{"row":270,"column":73},"action":"insert","lines":["i"],"id":5610}],[{"start":{"row":270,"column":73},"end":{"row":270,"column":74},"action":"insert","lines":["o"],"id":5611}],[{"start":{"row":270,"column":74},"end":{"row":270,"column":75},"action":"insert","lines":["n"],"id":5612}],[{"start":{"row":257,"column":0},"end":{"row":289,"column":47},"action":"remove","lines":["","","    if request.method == \"POST\":","","        # ensure username was submitted","        if not request.form.get(\"username\"):","            return apology(\"Must provide username\")","","        # ensure password was submitted","        elif not request.form.get(\"password\"):","            return apology(\"Must provide password\")","","        # ensure password and verified password is the same","        elif request.form.get(\"password\") != request.form.get(\"confirmation\"):","            return apology(\"password doesn't match\")","","        # insert the new user into users, storing the hash of the user's password","        result = db.execute(\"INSERT INTO users (username, hash) \\","                             VALUES(:username, :hash)\", \\","                             username=request.form.get(\"username\"), \\","                             hash=pwd_context.encrypt(request.form.get(\"password\")))","","        if not result:","            return apology(\"Username already exist\")","","        # remember which user has logged in","        session[\"user_id\"] = result","","        # redirect user to home page","        return redirect(url_for(\"index\"))","","    else:","        return render_template(\"register.html\")"],"id":5613},{"start":{"row":257,"column":0},"end":{"row":291,"column":33},"action":"insert","lines":["    \"\"\"Register user.\"\"\"","    ","    # if user reached route via GET, return register page","    if request.method == \"GET\":","        return render_template(\"register.html\")","    ","    # otherwise, if reached via POST i.e. submitting a form...","    elif request.method == \"POST\":","        # ensure username was submitted","        if not request.form.get(\"username\"):","            return apology(\"must provide username\")","","        # ensure password was submitted","        elif not request.form.get(\"password\"):","            return apology(\"must provide password\")","        ","        # ensure password and confirmation are equal","        elif request.form.get(\"password\") != request.form.get(\"confirmPassword\"):","            return apology(\"password fields do not match\")","            ","        # encrypt password","        hash = pwd_context.encrypt(request.form.get(\"password\"))","","        # comment","        result = db.execute(\"INSERT INTO users (username, hash) VALUES(:username, :hash)\", username=request.form.get(\"username\"),hash=hash)","        if not result:","            return apology(\"username already in use\")","        ","        # log user in","        rows = db.execute(\"SELECT * FROM users WHERE username = :username\", username=request.form.get(\"username\"))","        session[\"user_id\"] = rows[0][\"id\"]","","        # redirect user to home page","        flash('Successfully registered!')","return redirect(url_for(\"index\"))"]}],[{"start":{"row":291,"column":0},"end":{"row":291,"column":4},"action":"insert","lines":["    "],"id":5614}],[{"start":{"row":291,"column":4},"end":{"row":291,"column":8},"action":"insert","lines":["    "],"id":5615}],[{"start":{"row":258,"column":0},"end":{"row":258,"column":4},"action":"remove","lines":["    "],"id":5616},{"start":{"row":262,"column":0},"end":{"row":262,"column":4},"action":"remove","lines":["    "]},{"start":{"row":272,"column":0},"end":{"row":272,"column":8},"action":"remove","lines":["        "]},{"start":{"row":276,"column":0},"end":{"row":276,"column":12},"action":"remove","lines":["            "]},{"start":{"row":284,"column":0},"end":{"row":284,"column":8},"action":"remove","lines":["        "]}],[{"start":{"row":274,"column":77},"end":{"row":274,"column":78},"action":"remove","lines":["d"],"id":5617}],[{"start":{"row":274,"column":76},"end":{"row":274,"column":77},"action":"remove","lines":["r"],"id":5618}],[{"start":{"row":274,"column":75},"end":{"row":274,"column":76},"action":"remove","lines":["o"],"id":5619}],[{"start":{"row":274,"column":74},"end":{"row":274,"column":75},"action":"remove","lines":["w"],"id":5620}],[{"start":{"row":274,"column":73},"end":{"row":274,"column":74},"action":"remove","lines":["s"],"id":5621}],[{"start":{"row":274,"column":72},"end":{"row":274,"column":73},"action":"remove","lines":["s"],"id":5622}],[{"start":{"row":274,"column":71},"end":{"row":274,"column":72},"action":"remove","lines":["a"],"id":5623}],[{"start":{"row":274,"column":70},"end":{"row":274,"column":71},"action":"remove","lines":["P"],"id":5624}],[{"start":{"row":274,"column":70},"end":{"row":274,"column":71},"action":"insert","lines":["a"],"id":5625}],[{"start":{"row":274,"column":71},"end":{"row":274,"column":72},"action":"insert","lines":["t"],"id":5626}],[{"start":{"row":274,"column":72},"end":{"row":274,"column":73},"action":"insert","lines":["i"],"id":5627}],[{"start":{"row":274,"column":73},"end":{"row":274,"column":74},"action":"insert","lines":["o"],"id":5628}],[{"start":{"row":274,"column":74},"end":{"row":274,"column":75},"action":"insert","lines":["n"],"id":5629}],[{"start":{"row":283,"column":53},"end":{"row":284,"column":0},"action":"insert","lines":["",""],"id":5630},{"start":{"row":284,"column":0},"end":{"row":284,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":284,"column":12},"end":{"row":285,"column":0},"action":"insert","lines":["",""],"id":5631},{"start":{"row":285,"column":0},"end":{"row":285,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":285,"column":8},"end":{"row":285,"column":12},"action":"remove","lines":["    "],"id":5632}],[{"start":{"row":285,"column":4},"end":{"row":285,"column":8},"action":"remove","lines":["    "],"id":5633}],[{"start":{"row":285,"column":0},"end":{"row":285,"column":4},"action":"remove","lines":["    "],"id":5634}],[{"start":{"row":285,"column":0},"end":{"row":289,"column":188},"action":"insert","lines":["    #     user_table = db.execute(\"CREATE TABLE {} ('stock' TEXT, 'amount' INTEGER, 'price' INTEGER, 'tot_value' INTEGER, 'type' TEXT, 'cash' INTEGER)\".format(request.form.get(\"username\")))","","","    #     # Table # 2 for index()","    #     user_table_index = db.execute(\"CREATE TABLE {}_index ('stock' TEXT, 'amount' INTEGER, 'price' INTEGER, 'tot_value' INTEGER, 'cash' INTEGER)\".format(request.form.get(\"username\")))"],"id":5635}],[{"start":{"row":289,"column":7},"end":{"row":289,"column":8},"action":"remove","lines":[" "],"id":5636}],[{"start":{"row":289,"column":6},"end":{"row":289,"column":7},"action":"remove","lines":[" "],"id":5637}],[{"start":{"row":289,"column":5},"end":{"row":289,"column":6},"action":"remove","lines":[" "],"id":5638}],[{"start":{"row":289,"column":4},"end":{"row":289,"column":5},"action":"remove","lines":["#"],"id":5639}],[{"start":{"row":289,"column":4},"end":{"row":289,"column":5},"action":"insert","lines":[" "],"id":5640}],[{"start":{"row":289,"column":5},"end":{"row":289,"column":6},"action":"insert","lines":[" "],"id":5641}],[{"start":{"row":289,"column":6},"end":{"row":289,"column":7},"action":"insert","lines":[" "],"id":5642}],[{"start":{"row":288,"column":4},"end":{"row":288,"column":5},"action":"remove","lines":["#"],"id":5643}],[{"start":{"row":288,"column":4},"end":{"row":288,"column":8},"action":"remove","lines":["    "],"id":5644}],[{"start":{"row":288,"column":4},"end":{"row":288,"column":5},"action":"remove","lines":[" "],"id":5645}],[{"start":{"row":288,"column":4},"end":{"row":289,"column":0},"action":"insert","lines":["",""],"id":5646},{"start":{"row":289,"column":0},"end":{"row":289,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":289,"column":4},"end":{"row":289,"column":5},"action":"remove","lines":["#"],"id":5647}],[{"start":{"row":289,"column":4},"end":{"row":289,"column":5},"action":"insert","lines":["#"],"id":5648}],[{"start":{"row":289,"column":5},"end":{"row":289,"column":6},"action":"insert","lines":["`"],"id":5649}],[{"start":{"row":289,"column":6},"end":{"row":289,"column":7},"action":"insert","lines":["\\"],"id":5650}],[{"start":{"row":289,"column":6},"end":{"row":289,"column":7},"action":"remove","lines":["\\"],"id":5651}],[{"start":{"row":289,"column":5},"end":{"row":289,"column":6},"action":"remove","lines":["`"],"id":5652}],[{"start":{"row":289,"column":4},"end":{"row":289,"column":8},"action":"insert","lines":["    "],"id":5653}],[{"start":{"row":285,"column":7},"end":{"row":285,"column":8},"action":"remove","lines":[" "],"id":5654}],[{"start":{"row":285,"column":6},"end":{"row":285,"column":7},"action":"remove","lines":[" "],"id":5655}],[{"start":{"row":285,"column":5},"end":{"row":285,"column":6},"action":"remove","lines":[" "],"id":5656}],[{"start":{"row":285,"column":4},"end":{"row":285,"column":5},"action":"remove","lines":["#"],"id":5657}],[{"start":{"row":285,"column":4},"end":{"row":285,"column":5},"action":"insert","lines":[" "],"id":5658}],[{"start":{"row":285,"column":5},"end":{"row":285,"column":6},"action":"insert","lines":[" "],"id":5659}],[{"start":{"row":284,"column":0},"end":{"row":284,"column":12},"action":"remove","lines":["            "],"id":5660},{"start":{"row":288,"column":0},"end":{"row":288,"column":4},"action":"remove","lines":["    "]}]]},"ace":{"folds":[],"scrolltop":5694,"scrollleft":0,"selection":{"start":{"row":275,"column":58},"end":{"row":275,"column":58},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1528899507991,"hash":"648606d069bcfc3dc90ff804746a34f745a5daac"}