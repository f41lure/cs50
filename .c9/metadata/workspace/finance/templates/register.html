{"filter":false,"title":"register.html","tooltip":"/finance/templates/register.html","undoManager":{"mark":3,"position":3,"stack":[[{"start":{"row":0,"column":0},"end":{"row":30,"column":47},"action":"insert","lines":["","    if request.method == \"POST\":","","        # ensure username was submitted","        if not request.form.get(\"username\"):","            return apology(\"Must provide username\")","","        # ensure password was submitted","        elif not request.form.get(\"password\"):","            return apology(\"Must provide password\")","","        # ensure password and verified password is the same","        elif request.form.get(\"password\") != request.form.get(\"passwordagain\"):","            return apology(\"password doesn't match\")","","        # insert the new user into users, storing the hash of the user's password","        result = db.execute(\"INSERT INTO users (username, hash) \\","                             VALUES(:username, :hash)\", \\","                             username=request.form.get(\"username\"), \\","                             hash=pwd_context.hash(request.form.get(\"password\")))","        user_table = db.execute(\"CREATE TABLE {} ('stock' TEXT, 'amount' INTEGER, 'price' INTEGER, 'tot_value' INTEGER, 'cash' INTEGER)\".format(request.form.get(\"username\")))","        if not result:","            return apology(\"Username already exist\")","","        # remember which user has logged in","        session[\"user_id\"] = result","","        return redirect(url_for(\"index\"))","","    else:","        return render_template(\"register.html\")"],"id":1}],[{"start":{"row":0,"column":0},"end":{"row":30,"column":47},"action":"remove","lines":["","    if request.method == \"POST\":","","        # ensure username was submitted","        if not request.form.get(\"username\"):","            return apology(\"Must provide username\")","","        # ensure password was submitted","        elif not request.form.get(\"password\"):","            return apology(\"Must provide password\")","","        # ensure password and verified password is the same","        elif request.form.get(\"password\") != request.form.get(\"passwordagain\"):","            return apology(\"password doesn't match\")","","        # insert the new user into users, storing the hash of the user's password","        result = db.execute(\"INSERT INTO users (username, hash) \\","                             VALUES(:username, :hash)\", \\","                             username=request.form.get(\"username\"), \\","                             hash=pwd_context.hash(request.form.get(\"password\")))","        user_table = db.execute(\"CREATE TABLE {} ('stock' TEXT, 'amount' INTEGER, 'price' INTEGER, 'tot_value' INTEGER, 'cash' INTEGER)\".format(request.form.get(\"username\")))","        if not result:","            return apology(\"Username already exist\")","","        # remember which user has logged in","        session[\"user_id\"] = result","","        return redirect(url_for(\"index\"))","","    else:","        return render_template(\"register.html\")"],"id":2}],[{"start":{"row":0,"column":0},"end":{"row":59,"column":14},"action":"insert","lines":["<html lang=\"en\"><head>","","        <!-- Required meta tags -->","        <meta charset=\"utf-8\">","        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">","","        <!-- documentation at http://getbootstrap.com/docs/4.0/, alternative themes at https://bootswatch.com/4-alpha/ -->","        <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css\" rel=\"stylesheet\">","","        <link href=\"/static/styles.css\" rel=\"stylesheet\">","","        <script src=\"https://code.jquery.com/jquery-3.1.1.min.js\"></script>","        <script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js\"></script>","        <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js\"></script>","","        <title>C$50 Finance: ","    Register","</title>","","    </head>","","    <body>","","        <nav class=\"navbar navbar-expand-md navbar-light bg-light border\">","            <a class=\"navbar-brand\" href=\"/\"><span class=\"blue\">C</span><span class=\"red\">$</span><span class=\"yellow\">5</span><span class=\"green\">0</span> <span class=\"red\">Finance</span></a>","            <button aria-controls=\"navbar\" aria-expanded=\"false\" aria-label=\"Toggle navigation\" class=\"navbar-toggler\" data-target=\"#navbar\" data-toggle=\"collapse\" type=\"button\">","                <span class=\"navbar-toggler-icon\"></span>","            </button>","            <div class=\"collapse navbar-collapse\" id=\"navbar\">","                ","                    <ul class=\"navbar-nav ml-auto mt-2\">","                        <li class=\"nav-item\"><a class=\"nav-link\" href=\"/register\">Register</a></li>","                        <li class=\"nav-item\"><a class=\"nav-link\" href=\"/login\">Log In</a></li>","                    </ul>","                ","            </div>","        </nav>","","        ","","        <main class=\"container p-5\">","            ","    <form action=\"/register\" method=\"post\">","        <div class=\"form-group\">","            <input autocomplete=\"off\" autofocus=\"\" class=\"form-control\" name=\"username\" placeholder=\"Username\" type=\"text\">","        </div>","        <div class=\"form-group\">","            <input class=\"form-control\" name=\"password\" placeholder=\"Password\" type=\"password\">","        </div>","        <div class=\"form-group\">","            <input class=\"form-control\" name=\"confirmation\" placeholder=\"Password (again)\" type=\"password\">","        </div>","        <button class=\"btn btn-primary\" type=\"submit\">Register</button>","    </form>","","        </main>","        ","    ","","</body></html>"],"id":3}],[{"start":{"row":15,"column":28},"end":{"row":15,"column":29},"action":"remove","lines":[" "],"id":4},{"start":{"row":29,"column":0},"end":{"row":29,"column":16},"action":"remove","lines":["                "]},{"start":{"row":34,"column":0},"end":{"row":34,"column":16},"action":"remove","lines":["                "]},{"start":{"row":38,"column":0},"end":{"row":38,"column":8},"action":"remove","lines":["        "]},{"start":{"row":41,"column":0},"end":{"row":41,"column":12},"action":"remove","lines":["            "]},{"start":{"row":56,"column":0},"end":{"row":56,"column":8},"action":"remove","lines":["        "]},{"start":{"row":57,"column":0},"end":{"row":57,"column":4},"action":"remove","lines":["    "]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":12.599999999999998,"selection":{"start":{"row":36,"column":14},"end":{"row":36,"column":14},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1526135808212,"hash":"03cd23315c9680230646ff48007e1463ac804038"}